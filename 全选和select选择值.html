<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="jquery/jquery-1.9.1.min.js" type="text/javascript"></script>
		<style>
		#divid{
			color: red;
		}
		</style>
	</head>
	<body>
		<div id="divid">123</div>
		<select id="ok">
          <option value ="volvo">Volvo</option>
          <option value ="saab">Saab</option>
          <option value="opel">Opel</option>
          <option value="audi">Audi</option>
        </select>

		<div class="checkall">
			<input type="checkbox" value="1" id="checkall" /><label for="checkall">所有</label>
			<label for="check1"><input type="checkbox" name="subBox" value="2" id="check1" />1111111111111</label>
			<label for="check2"><input type="checkbox" name="subBox" value="3" id="check2" />2222222222222</label>
			<label for="check3"><input type="checkbox" name="subBox" value="4" id="check3" />3333333333333</label>
			<label for="check4"><input type="checkbox" name="subBox" value="5" id="check4" />4444444444444</label>
			<label for="check5"><input type="checkbox" name="subBox" value="6" id="check5" />5555555555555</label>
			<label for="check6"><input type="checkbox" name="subBox" value="7" id="check6" />6666666666666</label>
		</div>		
		<script>
			$(function(){
				var ok = 'audi';
				// 获取一个值叫audi的option
			    console.log($('#ok').find('option[name="'+ok+'"]'))
			})
			$(document).ready(function(){
				$('#checkall').change(function(){
					var nowcheck = $(this).prop('checked');
					var $inputs = $(this).nextAll('label').children('input');
					$inputs.each(function(){
						$(this).prop('checked',nowcheck)
					})
				})
				var $inputs = $('#checkall').nextAll('label').children('input')
				$inputs.on('click',function(){
					var nowcheck = $(this).prop('checked')
					var rug = true;
					console.log($(this));
						$inputs.each(function(){
							if(!$(this).prop('checked')){
								rug = false;
								console.log(1);
								return false;
								// return each不能用return终止
							}
						})
						
					$('#checkall').prop('checked',rug)
				})
			})
























    //         $("#ok0").click(function() {
    //        		console.log(this.checked)
    //             $('input[name="subBox"]').attr("checked",this.checked);
    //         });
    //         var $subBox = $("input[name='subBox']");
    //         $subBox.click(function(){
				// $("#ok0").attr("checked",$subBox.length == $("input[name='subBox']:checked").length ? true : false);
    //         });
		
		</script>
	</body>
</html>
